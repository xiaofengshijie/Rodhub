local repo = "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/"
local Library = loadstring(game:HttpGet(repo .. "Library.lua"))()
local ThemeManager = loadstring(game:HttpGet(repo .. "addons/ThemeManager.lua"))()
local SaveManager = loadstring(game:HttpGet(repo .. "addons/SaveManager.lua"))()

local Options = Library.Options
local Toggles = Library.Toggles

Library.ForceCheckbox = false
Library.ShowToggleFrameInKeybinds = true

local Window = Library:CreateWindow({
    Title = "Rodhub",
    Footer = "version: example",
    Icon = 95816097006870,
    NotifySide = "Right",
    ShowCustomCursor = true,
})

local Tabs = {
    ["基本功能"] = Window:AddTab("基本功能", "user"),
    ["作弊"] = Window:AddTab("作弊", "cheat"),
    ["视觉"] = Window:AddKeyTab("视觉"),
    ["楼层"] = Window:AddTab("楼层", "floor"),
    ["UI Settings"] = Window:AddTab("UI Settings", "settings"),
}

local Light = game:GetService("Lighting")

local function dofullbright()
    Light.Ambient = Color3.new(1, 1, 1)
    Light.ColorShift_Bottom = Color3.new(1, 1, 1)
    Light.ColorShift_Top = Color3.new(1, 1, 1)
end

local VisualGroup = Tabs["视觉"]:AddLeftGroupbox("光照效果")

VisualGroup:AddToggle("永久亮光", {
    Text = "永久亮光（FullBright）",
    Default = false,
    Tooltip = "使游戏场景永久保持最亮状态",
    Callback = function(Value)
        if Value then
            dofullbright()
            Light.LightingChanged:Connect(dofullbright)
        else
            Light.Ambient = Color3.fromRGB(0, 0, 0)
            Light.ColorShift_Bottom = Color3.fromRGB(0, 0, 0)
            Light.ColorShift_Top = Color3.fromRGB(0, 0, 0)
        end
    end
})

local LeftGroupBox = Tabs["基本功能"]:AddLeftGroupbox("Groupbox")

LeftGroupBox:AddToggle("MyToggle", {
    Text = "This is a toggle",
    Default = true,
    Callback = function(Value)
        print("[cb] MyToggle changed to:", Value)
    end,
})

ThemeManager:SetLibrary(Library)
SaveManager:SetLibrary(Library)
SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})

ThemeManager:SetFolder("Rodhub")
SaveManager:SetFolder("Rodhub/specific-game")

ThemeManager:ApplyToTab(Tabs["UI Settings"])
SaveManager:ApplyToTab(Tabs["UI Settings"])

Library:Notify("UI 加载完成！", 5)
